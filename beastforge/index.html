<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>üêâ BeastForge ‚Äì Arena Battle Flow</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            forgeDark: "#0b0c10",
            forgeBlue: "#00b7ff",
            forgeGreen: "#00ff99",
            forgeRed: "#ff3344",
            forgeGold: "#ffc72b",
          },
          fontFamily: { orbitron: ["Orbitron","sans-serif"], inter: ["Inter","sans-serif"] },
        },
      },
    };
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Inter:wght@400;600&display=swap" rel="stylesheet"/>
  <style>
    html,body{height:100%;overflow:hidden;}
    .screen{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;transition:opacity .5s ease,transform .6s ease;}
    .hidden{opacity:0;pointer-events:none;transform:scale(.98);}
    .show{opacity:1;pointer-events:auto;transform:scale(1);}
    .glow-text{text-shadow:0 0 10px rgba(0,255,255,.5);}
    .pulse{animation:pulse 2s infinite;}
    @keyframes pulse{0%,100%{opacity:.7;}50%{opacity:1;}}
  </style>
</head>
<body class="bg-forgeDark text-white font-inter select-none">

  <!-- Container -->
  <main id="flow" class="relative h-full w-full overflow-hidden">
    <!-- 1. MATCHMAKING -->
    <section id="matchmaking" class="screen show bg-gradient-to-br from-forgeBlue/30 to-forgeGreen/10 text-center">
      <h1 class="font-orbitron text-3xl mb-4 glow-text">Searching for Opponent...</h1>
      <div class="w-64 h-1 bg-white/20 rounded-full overflow-hidden mb-4">
        <div id="progress" class="h-full bg-forgeBlue w-0"></div>
      </div>
      <p class="text-sm text-gray-300">Tip: Use elemental advantage to dominate the arena.</p>
    </section>

    <!-- 2. ARENA INTRO -->
    <section id="intro" class="screen hidden text-center">
      <h2 class="font-orbitron text-4xl mb-2 text-forgeBlue">Arena Loading...</h2>
      <p class="text-sm text-gray-400 mb-4">Summon beasts to control the battlefield.</p>
      <div id="countdown" class="text-6xl font-orbitron text-forgeGold">3</div>
    </section>

    <!-- 3. BATTLE ARENA -->
    <section id="arena" class="screen hidden flex-col">
      <div class="absolute top-2 left-0 right-0 flex justify-between px-4 text-xs">
        <div class="bg-black/50 rounded px-2 py-1">HP: <span class="text-forgeGreen">100%</span></div>
        <div class="bg-black/50 rounded px-2 py-1">Time: <span id="timer">90</span>s</div>
        <div class="bg-black/50 rounded px-2 py-1">Enemy HP: <span class="text-forgeRed">100%</span></div>
      </div>

      <div class="flex-1 flex items-center justify-center">
        <div class="w-64 h-40 bg-gradient-to-tr from-forgeBlue/20 to-forgeGreen/20 border border-forgeBlue/50 rounded-xl grid place-items-center">
          <p class="text-gray-400 text-sm">[Auto Battle Simulation]</p>
        </div>
      </div>

      <div class="absolute bottom-0 w-full flex justify-center bg-black/40 py-2">
        <div class="flex space-x-2">
          <div class="w-16 h-24 bg-forgeBlue/30 rounded-md grid place-items-center text-xs">Card 1</div>
          <div class="w-16 h-24 bg-forgeGreen/30 rounded-md grid place-items-center text-xs">Card 2</div>
          <div class="w-16 h-24 bg-forgeRed/30 rounded-md grid place-items-center text-xs">Card 3</div>
          <div class="w-16 h-24 bg-forgeBlue/30 rounded-md grid place-items-center text-xs">Card 4</div>
          <div class="w-16 h-24 bg-forgeGreen/30 rounded-md grid place-items-center text-xs">Card 5</div>
        </div>
      </div>
    </section>

    <!-- 4. FORGE READY -->
    <section id="forge" class="screen hidden text-center bg-black/60">
      <h2 class="font-orbitron text-3xl text-forgeGold mb-2 glow-text">FORGE READY!</h2>
      <p class="text-sm text-gray-300 mb-4">Drag two beasts to fuse their power.</p>
      <button id="confirmFusion" class="px-4 py-2 bg-forgeGold text-black font-bold rounded">Confirm Fusion</button>
    </section>

    <!-- 5. FUSION RESULT -->
    <section id="fusion" class="screen hidden text-center bg-gradient-to-tr from-forgeBlue/30 to-forgeGreen/20">
      <h2 class="font-orbitron text-3xl text-forgeGreen mb-2">Fusion Complete!</h2>
      <p class="text-sm text-gray-300 mb-2">AquaFlare Titan Unleashed!</p>
      <p class="text-xs text-forgeGold">+20% Damage / +10% Speed</p>
    </section>

    <!-- 6. MID-BATTLE EVENT -->
    <section id="event" class="screen hidden text-center">
      <h2 class="font-orbitron text-2xl text-forgeBlue mb-2">Energy Surge!</h2>
      <p class="text-sm text-gray-300">Energy regen doubled for 10s!</p>
    </section>

    <!-- 7. VICTORY / DEFEAT -->
    <section id="result" class="screen hidden text-center">
      <h1 id="resultTitle" class="font-orbitron text-5xl mb-3 text-forgeGold">Victory!</h1>
      <p class="text-sm text-gray-300 mb-2">MVP: AquaFlare Titan</p>
      <p class="text-xs text-gray-400">Damage Dealt: 2450 | Fusions: 1 | Avg Energy: 92%</p>
    </section>

    <!-- 8. REWARDS -->
    <section id="rewards" class="screen hidden text-center">
      <h2 class="font-orbitron text-3xl mb-3 text-forgeGold">Rewards</h2>
      <div class="bg-black/50 p-4 rounded-xl inline-block">
        <p class="text-sm">+500 Gold<br>+3 Forge Shards<br>New Card: Ember Lynx</p>
      </div>
      <button id="toUpgrade" class="mt-4 px-4 py-2 bg-forgeBlue text-black font-bold rounded">Upgrade Beasts</button>
    </section>

    <!-- 9. LEVEL UP -->
    <section id="levelup" class="screen hidden text-center">
      <h2 class="font-orbitron text-3xl text-forgeGreen mb-2">Beast Level-Up</h2>
      <p class="text-sm text-gray-400 mb-2">Ember Lynx ‚Üí Lv. 6</p>
      <p class="text-xs text-forgeGold">+10% Damage</p>
    </section>

    <!-- 10. DECK OVERVIEW -->
    <section id="deck" class="screen hidden text-center">
      <h2 class="font-orbitron text-3xl mb-4">Deck Overview</h2>
      <div class="grid grid-cols-3 gap-2 place-items-center">
        <div class="w-20 h-28 bg-forgeBlue/30 rounded">Aqua</div>
        <div class="w-20 h-28 bg-forgeGreen/30 rounded">Flare</div>
        <div class="w-20 h-28 bg-forgeRed/30 rounded">Terra</div>
      </div>
      <button id="restart" class="mt-6 px-4 py-2 bg-forgeGold text-black font-bold rounded">Ready for Battle</button>
    </section>
  </main>

  <script>
    const screens = ["matchmaking","intro","arena","forge","fusion","event","result","rewards","levelup","deck"];
    let current = 0;
    const show = id=>{
      screens.forEach(s=>{
        document.getElementById(s).classList.add("hidden");
        document.getElementById(s).classList.remove("show");
      });
      const el=document.getElementById(id);
      el.classList.remove("hidden");
      el.classList.add("show");
    };

    // matchmaking fake progress
    let p=0; const bar=document.getElementById("progress");
    const interval=setInterval(()=>{
      p+=5; bar.style.width=p+"%";
      if(p>=100){clearInterval(interval); setTimeout(()=>{show("intro"); startIntro();},500);}
    },150);

    function startIntro(){
      let c=3; const cd=document.getElementById("countdown");
      const i=setInterval(()=>{
        c--; cd.textContent=c>0?c:"FIGHT!";
        if(c<0){clearInterval(i); setTimeout(()=>{show("arena"); startArena();},800);}
      },900);
    }

    function startArena(){
      let t=90;
      const timer=setInterval(()=>{
        document.getElementById("timer").textContent=t;
        t--;
        if(t===60) show("event");
        if(t===55) show("arena");
        if(t===30){show("forge");}
        if(t===25){show("fusion"); setTimeout(()=>show("arena"),1000);}
        if(t<=0){clearInterval(timer); show("result");}
      },500);
      document.getElementById("confirmFusion").onclick=()=>show("fusion");
      document.getElementById("toUpgrade").onclick=()=>show("levelup");
      document.getElementById("restart").onclick=()=>location.reload();
    }
  </script>
</body>
</html>
